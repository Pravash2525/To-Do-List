{% extends 'base.html' %}

{% block mybody %}
  <div class="container my-5">
    <div class="row">
      <div class="mx-auto col-10 col-md-8 col-lg-6">
        <h1><b> Create Your To Do List </b></h1>
        <form action="/" method="POST">
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" name="title" id="title">
          </div>
          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <input type="text" class="form-control" name="description" id="description">
          </div>
          <button type="submit" class="btn btn-primary">Save it</button>
          <!-- <input type="submit" value="Submit"><br> -->
        </form>
      </div>
    </div>
    <hr>
    <hr>
  </div>

<div class="container">
        {% if mytodo|length == 0 %}
        <div class="alert alert-info" role="alert">
          No Records Available!
        </div>         
          
        {% else %}
          <div class="container">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">SNo.</th>
                  <th scope="col">Title</th>
                  <th scope="col">Description</th>
                  <th scope="col">Date</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>

              {% for todo in mytodo %}
                <tr>
                  <th scope="row">{{loop.index}}</th>
                  <td>{{todo.title}}</td>
                  <td>{{todo.description}}</td>
                  <td>{{todo.date_created}}</td>
                  <td>
                      <a href="/update/{{todo.Sno}}" button type="button" class="btn btn-outline-primary btn-sm mx-1">Update</button>
                      <a href="/delete/{{todo.Sno}}" button type="button" class="btn btn-outline-danger btn-sm mx-1">Delete</button>

                  </td>
                </tr>

              {% endfor %}
            
        {% endif %}

      </div>
  </div>
  
{% endblock mybody %}